<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>奇幻梦工厂隐藏关 · ShinE</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <style>
    :root{
      --gap:12px; --radius:16px; --shadow:0 6px 16px rgba(0,0,0,.06);
      --border:#e5e7eb; --ink:#111827; --muted:#6b7280; --brand:#6366f1;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{background:#f9fafb;color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    .wrap{max-width:980px;margin:0 auto;padding:24px;display:flex;flex-direction:column;gap:16px;min-height:100vh}
    .site-header{display:flex;justify-content:space-between;gap:16px;align-items:flex-end;flex-wrap:wrap}
    .site-header .title h1{margin:0;font-size:24px}
    .tools{display:flex;gap:8px;align-items:center}
    .main{display:grid;grid-template-columns:1fr;gap:16px}
    .card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow)}
    .preview{display:flex;justify-content:center;align-items:center}
    .preview img{max-width:100%;height:auto;border-radius:12px;border:1px solid var(--border);box-shadow:var(--shadow)}
    /* floating nav */
    #topbar-nav{
      position:fixed; left:12px; top:12px; z-index:1000;
      display:flex; flex-wrap:wrap; gap:8px; align-items:center;
      background:rgba(255,255,255,.9);
      border:1px solid #e5e7eb;
      padding:6px 8px; border-radius:12px; box-shadow:0 6px 16px rgba(0,0,0,.08);
      backdrop-filter:saturate(140%) blur(4px);
      max-width:92vw;
    }
    #topbar-nav .btn{padding:8px 12px; border-radius:12px; font-size:13px; white-space:nowrap;}
    @media (max-width:480px){ #topbar-nav{ left:8px; top:8px; right:8px; } }
    .langbar{
      position:fixed; right:12px; top:12px; z-index:1100;
      display:inline-flex; align-items:center;
      background:rgba(255,255,255,.9);
      border:1px solid #e5e7eb;
      padding:6px 8px; border-radius:999px; box-shadow:var(--shadow);
      backdrop-filter:saturate(140%) blur(4px);
    }
    .langbar .btn{padding:8px 12px; border-radius:999px; font-size:13px; white-space:nowrap;}
    /* bottom-left logo */
    .logo-bottom-left{
      position:fixed; left:12px; bottom:12px; z-index:1000;
      font-family:'Pacifico',cursive; font-size:20px; font-weight:400;
      display:inline-flex; align-items:center; gap:6px;
      padding:8px 14px; border-radius:999px;
      background:#fff; border:1px solid #e5e7eb; box-shadow:var(--shadow);
      color:#111827;
    }
    .logo-bottom-left .logo-dot{width:8px;height:8px;border-radius:999px;background:linear-gradient(135deg,#6366f1,#22c55e)}
    .muted{color:var(--muted);font-size:13px}
  </style>
</head>
<body>
  <div id="topbar-nav">
    <a href="index.html" class="btn" style="text-decoration:none;" id="navHome">回到主页</a>
    <a href="flipgame.html" class="btn" style="text-decoration:none;" id="navFlip">九宫格翻牌</a>
    <a href="CoreCalculator.html" class="btn" style="text-decoration:none;" id="navCore">核心计算器</a>
    <a href="StarDiamondCalculator.html" class="btn" style="text-decoration:none;" id="navStar">星钻计算器</a>
  </div>

  <div class="langbar">
    <button class="btn" id="langToggle" type="button">EN</button>
  </div>

  <div class="wrap">
    <header class="site-header">
      <div class="title"><h1 id="pageTitle">奇幻梦工厂隐藏关</h1></div>
      <div class="tools"><span class="muted" id="pageHint">点击图片可在新窗口查看原图</span></div>
    </header>

    <main class="main">
      <div class="card">
        <div class="preview">
          <a href="qihuan.jpg" target="_blank" rel="noopener">
            <img src="qihuan.jpg" alt="奇幻梦工厂隐藏关参考图" id="previewImg" />
          </a>
        </div>
      </div>
    </main>
  </div>

  <div class="logo-bottom-left">
    <span class="logo-dot"></span> By ShinE
  </div>

  <script>
    (function () {
      const langToggle = document.getElementById('langToggle');
      const navHome = document.getElementById('navHome');
      const navFlip = document.getElementById('navFlip');
      const navCore = document.getElementById('navCore');
      const navStar = document.getElementById('navStar');
      const pageTitle = document.getElementById('pageTitle');
      const pageHint = document.getElementById('pageHint');
      const previewImg = document.getElementById('previewImg');
      const topbarNav = document.getElementById('topbar-nav');

      const I18N = {
        zh: {
          title: '奇幻梦工厂隐藏关 · ShinE',
          nav_label: '页面导航',
          nav_home: '回到主页',
          nav_flip: '九宫格翻牌',
          nav_core: '核心计算器',
          nav_star: '星钻计算器',
          page_title: '奇幻梦工厂隐藏关',
          page_hint: '点击图片可在新窗口查看原图',
          img_alt: '奇幻梦工厂隐藏关参考图',
          lang_toggle_en: 'EN',
          lang_toggle_zh: '中文'
        },
        en: {
          title: 'Fantasy Factory Secret Stage · ShinE',
          nav_label: 'Page Navigation',
          nav_home: 'Home',
          nav_flip: '3x3 Flip Cards',
          nav_core: 'Core Calculator',
          nav_star: 'Star Diamond Calculator',
          page_title: 'Fantasy Factory Secret Stage',
          page_hint: 'Click the image to open the original in a new tab',
          img_alt: 'Fantasy Factory secret stage reference',
          lang_toggle_en: 'EN',
          lang_toggle_zh: '中文'
        }
      };

      let currentLang = (localStorage.getItem('flipgame_lang') || '').toLowerCase();
      if (currentLang !== 'zh' && currentLang !== 'en') {
        const navLang = (navigator.language || '').toLowerCase();
        currentLang = navLang.startsWith('zh') ? 'zh' : 'en';
      }

      function t(key) {
        return (I18N[currentLang] && I18N[currentLang][key]) || I18N.zh[key] || '';
      }

      function setStaticText() {
        document.title = t('title');
        document.documentElement.lang = currentLang === 'zh' ? 'zh' : 'en';
        if (topbarNav) topbarNav.setAttribute('aria-label', t('nav_label'));
        if (navHome) navHome.textContent = t('nav_home');
        if (navFlip) navFlip.textContent = t('nav_flip');
        if (navCore) navCore.textContent = t('nav_core');
        if (navStar) navStar.textContent = t('nav_star');
        if (pageTitle) pageTitle.textContent = t('page_title');
        if (pageHint) pageHint.textContent = t('page_hint');
        if (previewImg) previewImg.setAttribute('alt', t('img_alt'));
        if (langToggle) langToggle.textContent = currentLang === 'zh' ? t('lang_toggle_en') : t('lang_toggle_zh');
      }

      function setLang(lang) {
        currentLang = lang;
        localStorage.setItem('flipgame_lang', lang);
        setStaticText();
      }

      if (langToggle) {
        langToggle.addEventListener('click', () => {
          setLang(currentLang === 'zh' ? 'en' : 'zh');
        });
      }

      setStaticText();
    })();
  </script>
</body>
</html>
